#!/usr/bin/env python

to_morse_dict = {
'A': '.-',
'B': '-...',
'C': '-.-.',
'D': '-..',
'E': '.',
'F': '..-.',
'G': '--.',
'H': '....',
'I': '..',
'J': '.---',
'K': '-.-',
'L': '.-..',
'M': '--',
'N': '-.',
'O': '---',
'P': '.--.',
'Q': '--.-',
'R': '.-.',
'S': '...',
'T': '-',
'U': '..-',
'V': '...-',
'W': '.--',
'X': '-..-',
'Y': '-.--',
'Z': '--..',
'0': '-----',
'1': '.----',
'2': '..---',
'3': '...--',
'4': '....-',
'5': '.....',
'6': '-....',
'7': '--...',
'8': '---..',
'9': '----.',
'.': '.-.-.-',
',': '--..--',
'?': '..--..',
'\'': '.----.',
'!': '-.-.--',
'/': '-..-.',
'(': '-.--.',
')': '-.--.-',
'&': '.-...',
':': '---...',
';': '-.-.-.',
'=': '-...-',
'+': '.-.-.',
'-': '-....-',
'_': '..--.-',
'"': '.-..-.',
'$': '...-..-',
'@': '.--.-.',
'À': '.--.-',
'Å': '.--.-',
'Ä': '.-.-',
'Æ': '.-.-',
'Ą': '.-.-',
'Ć': '-.-..',
'Ĉ': '-.-..',
'Ç': '-.-..',
'Ĥ': '----',
'Š': '----',
'Đ': '..-..',
'Ð': '..-..',
'É': '..-..',
'Ę': '..-..',
'È': '.-..-',
'Ł': '.-..-',
'Ĝ': '--.-.',
'Ĵ': '.---.',
'Ń': '--.--',
'Ñ': '--.--',
'Ó': '---.',
'Ö': '---.',
'Ø': '---.',
'Ś': '...-...',
'Ŝ': '...-.',
'Þ': '.--..',
'Ü': '..--',
'Ŭ': '..--',
'Ź': '--..-.',
'Ż': '--..-',
' ': '/'
}

from_morse_dict = {
'.-': 'A',
'-...': 'B',
'-.-.': 'C',
'-..': 'D',
'.': 'E',
'..-.': 'F',
'--.': 'G',
'....': 'H',
'..': 'I',
'.---': 'J',
'-.-': 'K',
'.-..': 'L',
'--': 'M',
'-.': 'N',
'---': 'O',
'.--.': 'P',
'--.-': 'Q',
'.-.': 'R',
'...': 'S',
'-': 'T',
'..-': 'U',
'...-': 'V',
'.--': 'W',
'-..-': 'X',
'-.--': 'Y',
'--..': 'Z',
'-----': '0',
'.----': '1',
'..---': '2',
'...--': '3',
'....-': '4',
'.....': '5',
'-....': '6',
'--...': '7',
'---..': '8',
'----.': '9',
'.-.-.-': '.',
'--..--': ',',
'..--..': '?',
'.----.': '\'',
'-.-.--': '!',
'-..-.': '/',
'-.--.': '(',
'-.--.-': ')',
'.-...': '&',
'---...': ':',
'-.-.-.': ';',
'-...-': '=',
'.-.-.': '+',
'-....-': '-',
'..--.-': '_',
'.-..-.': '"',
'...-..-': '$',
'.--.-.': '@',
'.--.-': 'A',
'.-.-': 'A',
'-.-..': 'C',
'----': 'CH',
'..-..': 'D',
'.-..-': 'E',
'--.-.': 'Ĝ',
'.---.': 'Ĵ',
'--.--': 'N',
'---.': 'O',
'...-...': 'Ś',
'...-.': 'Ŝ',
'.--..': 'Þ',
'..--': 'U',
'--..-.': 'Z',
'/': ' '
}

def to_morse(text):
    text = remove_extra_spaces(text)
    symbols = [to_morse_symbol(c) for c in text]
    return ' '.join(symbols)

def to_morse_symbol(character):
    try:
        return to_morse_dict[character.upper()]
    except:
        print(f'I don\'t know how to translate this character: {character}')
        return '..--..'

def from_morse(text):
    text = remove_extra_spaces(text)
    words = text.split(' ')
    characters = [from_morse_symbol(w) for w in words]
    return ''.join(characters)

def from_morse_symbol(symbol):
    try:
        return from_morse_dict[symbol]
    except:
        print(f'I don\'t know how to translate this symbol: {symbol}')
        return '�'

def remove_extra_spaces(text):
    while '  ' in text:
        text = text.replace('  ', ' ')
    return text
